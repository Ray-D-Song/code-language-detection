<!DOCTYPE html>
<html>
  <head>
    <title>guesslang-js</title>
  </head>
  <body>
    <textarea id="code" cols="100" rows="40"></textarea>
    <textarea id="result" cols="100" rows="40" readonly></textarea>
    <br />
    <button id="detect">Detect</button>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/guesslang-js@latest/dist/lib/guesslang.min.js"></script>
    <script type="text/javascript">
      document.getElementById('code').value = `struct Rectangle {
  width: u32,
  height: u32,
}

fn main() {
  let rect1 = Rectangle {
    width: 30,
    height: 50,
  };

  println!(
    "The area of the rectangle is {} square pixels.",
    area(&rect1)
  );
}

fn area(rectangle: &Rectangle) -> u32 {
  rectangle.width * rectangle.height
}`;

      var guessLang = new GuessLang({ minContentSize: 0 });
      document.getElementById('detect').onclick = function () {
        var code = document.getElementById('code').value;
        guessLang.runModel(code).then((result) => {
          document.getElementById('result').value = JSON.stringify(result, null, 2);
        });
      };
    </script>
  </body>
</html>
